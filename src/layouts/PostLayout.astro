---
import Layout from "./Layout.astro";
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

interface Props {
    title: string;
    description: string;
    pubDate: Date;
    updatedDate?: Date;
    heroImage?: any;
    image?: string;
    imageWidth?: number | string;
    imageHeight?: number | string;
    parentLabel?: string;
    parentUrl?: string;
}

const {
    title,
    description,
    pubDate,
    updatedDate,
    heroImage,
    image,
    imageWidth,
    imageHeight,
    parentLabel,
    parentUrl,
} = Astro.props;
---

<Layout
    title={title}
    description={description}
    image={image || heroImage?.src}
    imageWidth={imageWidth}
    imageHeight={imageHeight}
>
    <article class="max-w-3xl mx-auto px-4 py-8 md:py-12">
        <nav class="text-sm text-gray-500 mb-8 tracking-wide">
            <a href="/" class="hover:text-rose-600 transition">Home</a>
            {parentLabel && parentUrl && (
                <>
                    <span class="mx-2">/</span>
                    <a href={parentUrl} class="hover:text-rose-600 transition">{parentLabel}</a>
                </>
            )}
            <span class="mx-2">/</span>
            <span class="text-gray-800">{title}</span>
        </nav>

        <div class="mb-8 text-center">
            {
                heroImage && (
                    <Image
                        src={heroImage}
                        alt={title}
                        class="w-full aspect-video object-cover rounded-2xl shadow-md mb-8"
                        width={1024}
                        densities={[1.5, 2]}
                    />
                )
            }

            <div
                class="text-rose-500 text-sm uppercase tracking-wider font-medium mb-2"
            >
                {
                    pubDate.toLocaleDateString("de-DE", {
                        year: "numeric",
                        month: "long",
                        day: "numeric",
                    })
                }
            </div>

            <h1
                class="text-4xl md:text-5xl font-serif font-bold text-rose-950 mb-4 leading-tight"
            >
                {title}
            </h1>

            <p class="text-xl text-gray-700 font-light italic">
                {description}
            </p>

            <hr class="border-gray-200 my-8 w-1/3 mx-auto" />
        </div>

        <div
            class="prose prose-gray prose-lg mx-auto text-gray-800 font-sans"
        >
            <slot />
        </div>
    </article>
</Layout>
